"use strict";(self["webpackChunkgenshin_artifacts"]=self["webpackChunkgenshin_artifacts"]||[]).push([[416],{58174:function(e,t,n){n.a(e,(async function(e,a){try{var l=n(92714),c=e([l]);l=(c.then?(await c)():c)[0];const i={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},r=(0,l.createElementVNode)("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32z"},null,-1),u=[r];function d(e,t){return(0,l.openBlock)(),(0,l.createElementBlock)("svg",i,u)}t["Z"]={name:"ep-folder",render:d},a()}catch(o){a(o)}}))},63196:function(e,t,n){n.a(e,(async function(e,a){try{var l=n(92714),c=e([l]);l=(c.then?(await c)():c)[0];const i={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},r=(0,l.createElementVNode)("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32zm384 416V416h64v128h128v64H544v128h-64V608H352v-64h128z"},null,-1),u=[r];function d(e,t){return(0,l.openBlock)(),(0,l.createElementBlock)("svg",i,u)}t["Z"]={name:"ep-folder-add",render:d},a()}catch(o){a(o)}}))},50490:function(e,t,n){n.a(e,(async function(e,a){try{var l=n(92714),c=e([l]);l=(c.then?(await c)():c)[0];const i={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},r=(0,l.createElementVNode)("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224a112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96a48 48 0 0 1 0-96zm336-64a112 112 0 1 1 0 224a112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96a48 48 0 0 0 0-96zm336-64a112 112 0 1 1 0 224a112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96a48 48 0 0 0 0-96z"},null,-1),u=[r];function d(e,t){return(0,l.openBlock)(),(0,l.createElementBlock)("svg",i,u)}t["Z"]={name:"ep-more",render:d},a()}catch(o){a(o)}}))},83054:function(e,t,n){n.a(e,(async function(e,a){try{var l=n(92714),c=e([l]);l=(c.then?(await c)():c)[0];const i={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},r=(0,l.createElementVNode)("path",{fill:"currentColor",d:"m795.904 750.72l124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704a352 352 0 0 0 0 704z"},null,-1),u=[r];function d(e,t){return(0,l.openBlock)(),(0,l.createElementBlock)("svg",i,u)}t["Z"]={name:"ep-search",render:d},a()}catch(o){a(o)}}))},54273:function(e,t,n){n.a(e,(async function(e,a){try{n.d(t,{F:function(){return v}});var l=n(92714),c=(n(33948),n(2707),n(38862),n(65716)),o=n(68095),i=n(68279),r=e([l,o,i]);[l,o,i]=r.then?(await r)():r;const d=(0,o.n)();function s(){let e={0:{id:0,title:"默认收藏夹",dir:!0,children:[]}};const t=localStorage.getItem("kumi2");if(t)try{const n=JSON.parse(t);if("object"!==typeof n)return n;e=n.kumi?n.kumi:n}catch(a){console.error(a)}let n=[...Object.values(e)];return n.sort(((e,t)=>e.id-t.id)),n}function f(){const e=(0,l.ref)(s()),t=(0,l.ref)(new Map),n=new c.C;for(let l of e.value)t.value.set(l.id,l);const a=(0,l.computed)((()=>{const t=[];for(let n of e.value)n.dir&&t.push(n);return t}));function o(a){let l={id:n.generateId(),title:a,dir:!0,children:[]};e.value.push(l),t.value.set(l.id,l)}function r(n){const a=t.value.get(n);if(a&&a.dir){var l;let c=null!==(l=a.children)&&void 0!==l?l:[],o=new Set(c);o.add(n);let i=0;while(i<e.value.length){const n=e.value[i];o.has(n.id)?(e.value.splice(i,1),t.value.delete(n.id)):i+=1}}}function u(e,n){const a=t.value.get(e);a&&(a.title=n)}const f=(0,l.computed)((()=>{let n={};for(let l of e.value){var a;if(l.dir)if(n[l.id]=null!==(a=n[l.id])&&void 0!==a?a:[],l.children)for(let e of l.children)n[l.id].push(t.value.get(e))}return n}));function m(a,l){let c=t.value.get(a);if(c){let a={id:n.generateId(),title:l,dir:!1,artifactIds:[null,null,null,null,null]};return e.value.push(a),t.value.set(a.id,a),c.children&&c.children.push(a.id),a.id}return null}function v(n){t.value.delete(n);const a=e.value.findIndex((e=>e.id===n));a>0&&e.value.splice(a,1);for(const t of e.value)if(t.dir&&t.children){const e=t.children.indexOf(n);if(-1!==e){t.children.splice(e,1);break}}}function h(e,n){let a=t.value.get(e);if(a){var l;a.artifactIds=null!==(l=a.artifactIds)&&void 0!==l?l:[null,null,null,null,null];let e=d.artifacts.value.get(n);if(e){const t=e.position,l=(0,i.VO)(t);a.artifactIds[l]=n}}}function p(e,n){let a=t.value.get(e);if(a){var l;a.artifactIds=null!==(l=a.artifactIds)&&void 0!==l?l:[null,null,null,null,null];let e=d.artifacts.value.get(n);if(e){const t=e.position,n=(0,i.VO)(t);a.artifactIds[n]=null}}}function k(e){return t.value.get(e)}return{kumi:e,kumiById:t,dirs:a,kumisByDirId:f,itemById:k,createDir:o,deleteDir:r,rename:u,createKumi:m,deleteKumi:v,addArtifact:h,deleteArtifact:p}}const m=f();function v(){return m}(0,l.watch)((()=>m.kumi.value),(e=>{localStorage.setItem("kumi2",JSON.stringify(e))}),{deep:!0}),a()}catch(u){a(u)}}))},76814:function(e,t,n){n.a(e,(async function(e,a){try{n.r(t),n.d(t,{default:function(){return l.Z}});var l=n(8505),c=e([l]);l=(c.then?(await c)():c)[0],a()}catch(o){a(o)}}))},8911:function(e,t,n){n.a(e,(async function(e,a){try{var l=n(92714),c=n(7448),o=(n(75915),n(33948),n(75955)),i=n(99520),r=n(47540),u=n(68095),d=n(42894),s=n(51290),f=e([l,i,r,u,d,s,c]);[l,i,r,u,d,s,c]=f.then?(await f)():f;const m={class:"up"},v={class:"title"},h={class:"buttons"},p={class:"body"};t["Z"]=(0,l.defineComponent)({__name:"KumiItem",props:{data:null},emits:["click","deleteArtifact","delete","edit"],setup(e,{emit:t}){const n=e,a=(0,u.n)(),f=(0,l.computed)((()=>{let e=[];const t={};for(let c of null!==(l=n.data.artifactIds)&&void 0!==l?l:[]){var l;if(c){const e=a.artifacts.value.get(c);e&&(t[e.position]=e)}}for(let n=0;n<5;n++){const a=t[o.m7[n]];a?e.push(a):e.push(null)}return e}));return(e,a)=>{const u=c.mi;return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("p",v,(0,l.toDisplayString)(n.data.title),1),(0,l.createElementVNode)("div",h,[(0,l.createVNode)(u,{text:"",icon:(0,l.unref)(d.Z),title:"删除",onClick:a[0]||(a[0]=e=>t("delete")),circle:""},null,8,["icon"]),(0,l.createVNode)(u,{text:"",icon:(0,l.unref)(s.Z),title:"重命名",onClick:a[1]||(a[1]=e=>t("edit")),circle:""},null,8,["icon"])])]),(0,l.createElementVNode)("div",p,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(f),((e,n)=>((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:n},[e?((0,l.openBlock)(),(0,l.createBlock)((0,l.unref)(r.Z),{key:0,class:"artifact-item",width:"200px",item:e,selectable:"",onClick:n=>t("click",e.position),onDelete:n=>t("deleteArtifact",e.id),buttons:!0,"lock-button":!1,"delete-button":!0},null,8,["item","onClick","onDelete"])):((0,l.openBlock)(),(0,l.createBlock)((0,l.unref)(i.Z),{key:1,class:"artifact-item",onClick:e=>t("click",(0,l.unref)(o.m7)[n])},null,8,["onClick"]))],64)))),128))])])}}}),a()}catch(m){a(m)}}))},42459:function(e,t,n){n.a(e,(async function(e,a){try{var l=n(92714),c=n(48444),o=(n(59674),n(11347)),i=(n(9638),n(7448)),r=(n(7739),n(84593)),u=(n(28475),n(81299)),d=(n(96152),n(83054)),s=n(40626),f=(n(98151),n(76398),n(33466),n(75915),n(59546)),m=(n(12573),n(33948),n(74916),n(74221)),v=n(58912),h=n(1910),p=n(28469),k=n(54273),V=n(80377),y=n(38755),B=n(42894),w=n(51290),x=n(50490),N=n(58174),g=n(63196),C=e([l,d,v,h,p,k,y,B,w,x,N,g,c,f,i,s,u,r,o]);[l,d,v,h,p,k,y,B,w,x,N,g,c,f,i,s,u,r,o]=C.then?(await C)():C;const Z={class:"m-toolbar hidden-md-and-up"},E=(0,l.createTextVNode)("新建收藏夹"),_=(0,l.createTextVNode)("新建圣遗物组"),I=(0,l.createTextVNode)("重命名"),T={class:"m-middle"},b={class:"pc-container"},D={class:"left mona-scroll-hidden hidden-sm-and-down"},M={class:"toolbar"},z=(0,l.createTextVNode)(" 新建收藏夹 "),A={class:"mona-scroll-hidden left-list"},S={class:"right mona-scroll-hidden"},H={class:"hidden-md-and-up"},K={class:"toolbar2 hidden-sm-and-down"},L={class:"button-left"},F=(0,l.createTextVNode)("新建组"),O={class:"button-right"},Y=(0,l.createTextVNode)("重命名"),R={class:"items mona-scroll-hidden"},U={key:0},j={key:1};t["Z"]=(0,l.defineComponent)({__name:"KumiPage",setup(e){const t=(0,k.F)(),n=(0,l.ref)(0),a=(0,l.computed)((()=>{let e=[];for(let n of t.dirs.value)e.push({index:n.id,title:n.title});return e})),C=(0,l.computed)((()=>{const e=t.itemById(n.value);return e?e.title:"title"}));function J(){c.T.prompt("请输入新收藏夹名","新建收藏夹",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((({value:e})=>{e&&t.createDir(e)})).catch((()=>{}))}function G(e){0!==e&&(t.deleteDir(e),n.value=0)}function P(e){c.T.prompt("请输入新收藏夹名","重命名收藏夹",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((({value:n})=>{n&&t.rename(e,n)})).catch((()=>{}))}const W=(0,l.computed)((()=>t.kumisByDirId.value[n.value]));function $(){c.T.prompt("请输入新圣遗物组名","新建圣遗物组",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((({value:e})=>{e&&t.createKumi(n.value,e)})).catch((()=>{}))}function q(e){t.deleteKumi(e)}function Q(e){c.T.prompt("请输入新圣遗物组名","重命名圣遗物组",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((({value:n})=>{n&&t.rename(e,n)})).catch((()=>{}))}const X=(0,l.ref)(""),ee=(0,l.computed)((()=>new m.Z(W.value,{keys:["title"]}))),te=(0,l.computed)((()=>{if(""===X.value)return W.value;const e=ee.value.search(X.value);return e.map((e=>e.item))})),ne=(0,l.ref)(!1),ae=(0,l.ref)("flower"),le=(0,l.ref)(0);function ce(e){ne.value=!1,t.addArtifact(le.value,e)}function oe(e,n){t.deleteArtifact(e,n)}function ie(e,t){ae.value=t,ne.value=!0,le.value=e}function re(e){"add"===e?J():e.startsWith("use")?n.value=parseInt(e.split(" ")[1]):"delete"===e?G(n.value):"rename"===e?P(n.value):"addKumi"===e&&$()}return(e,t)=>{const c=f.d0,m=i.mi,k=s.Df,W=s.o2,ee=s.YK,le=d.Z,ue=u.EZ,de=r.gn,se=i.MO,fe=o.GT;return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createVNode)(c,{modelValue:ne.value,"onUpdate:modelValue":t[0]||(t[0]=e=>ne.value=e),title:"选择圣遗物",width:(0,l.unref)(V.B)?"80%":"90%"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)((0,l.unref)(p.Z),{position:ae.value,onSelect:ce},null,8,["position"])])),_:1},8,["modelValue","width"]),(0,l.createElementVNode)("div",Z,[(0,l.createVNode)(ee,{trigger:"click",onCommand:re},{dropdown:(0,l.withCtx)((()=>[(0,l.createVNode)(W,null,{default:(0,l.withCtx)((()=>[(0,l.createVNode)(k,{command:"add",icon:(0,l.unref)(g.Z)},{default:(0,l.withCtx)((()=>[E])),_:1},8,["icon"]),(0,l.createVNode)(k,{command:"addKumi",icon:(0,l.unref)(y.Z)},{default:(0,l.withCtx)((()=>[_])),_:1},8,["icon"]),0!==n.value?((0,l.openBlock)(),(0,l.createBlock)(k,{key:0,command:"delete",icon:(0,l.unref)(B.Z)},{default:(0,l.withCtx)((()=>[(0,l.createTextVNode)('删除"'+(0,l.toDisplayString)((0,l.unref)(C))+'"',1)])),_:1},8,["icon"])):(0,l.createCommentVNode)("",!0),0!==n.value?((0,l.openBlock)(),(0,l.createBlock)(k,{key:1,command:"rename",icon:(0,l.unref)(w.Z)},{default:(0,l.withCtx)((()=>[I])),_:1},8,["icon"])):(0,l.createCommentVNode)("",!0),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(a),((e,t)=>((0,l.openBlock)(),(0,l.createBlock)(k,{key:e.index,divided:0===t,command:"use "+e.index,icon:(0,l.unref)(N.Z)},{default:(0,l.withCtx)((()=>[(0,l.createTextVNode)((0,l.toDisplayString)(e.title),1)])),_:2},1032,["divided","command","icon"])))),128))])),_:1})])),default:(0,l.withCtx)((()=>[(0,l.createVNode)(m,{icon:(0,l.unref)(x.Z),size:"small",text:"",circle:""},null,8,["icon"])])),_:1}),(0,l.createElementVNode)("div",T,(0,l.toDisplayString)((0,l.unref)(C)),1)]),(0,l.createElementVNode)("div",b,[(0,l.createElementVNode)("div",D,[(0,l.createElementVNode)("div",M,[(0,l.createVNode)(m,{type:"primary",icon:(0,l.unref)(y.Z),onClick:J},{default:(0,l.withCtx)((()=>[z])),_:1},8,["icon"])]),(0,l.createElementVNode)("div",A,[(0,l.createVNode)((0,l.unref)(v.Z),{modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=e=>n.value=e),items:(0,l.unref)(a)},null,8,["modelValue","items"])])]),(0,l.createElementVNode)("div",S,[(0,l.createElementVNode)("div",H,[(0,l.createVNode)(ue,{modelValue:X.value,"onUpdate:modelValue":t[2]||(t[2]=e=>X.value=e),style:{"margin-bottom":"12px"},placeholder:"搜索"},{append:(0,l.withCtx)((()=>[(0,l.createVNode)(le)])),_:1},8,["modelValue"])]),(0,l.createElementVNode)("div",K,[(0,l.createElementVNode)("div",L,[(0,l.createVNode)(m,{type:"primary",icon:(0,l.unref)(y.Z),onClick:$},{default:(0,l.withCtx)((()=>[F])),_:1},8,["icon"]),(0,l.createVNode)(ue,{modelValue:X.value,"onUpdate:modelValue":t[3]||(t[3]=e=>X.value=e),style:{"margin-left":"16px"},placeholder:"搜索"},{append:(0,l.withCtx)((()=>[(0,l.createVNode)(de,null,{default:(0,l.withCtx)((()=>[(0,l.createVNode)(le)])),_:1})])),_:1},8,["modelValue"])]),(0,l.createElementVNode)("div",O,[(0,l.createVNode)(se,null,{default:(0,l.withCtx)((()=>[0!==n.value?((0,l.openBlock)(),(0,l.createBlock)(m,{key:0,icon:(0,l.unref)(w.Z),onClick:t[4]||(t[4]=e=>P(n.value))},{default:(0,l.withCtx)((()=>[Y])),_:1},8,["icon"])):(0,l.createCommentVNode)("",!0),0!==n.value?((0,l.openBlock)(),(0,l.createBlock)(m,{key:1,type:"danger",onClick:t[5]||(t[5]=e=>G(n.value)),title:"删除收藏夹",icon:(0,l.unref)(B.Z)},null,8,["icon"])):(0,l.createCommentVNode)("",!0)])),_:1})])]),(0,l.createElementVNode)("div",R,[(0,l.unref)(te).length>0?((0,l.openBlock)(),(0,l.createElementBlock)("div",U,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(te),(e=>((0,l.openBlock)(),(0,l.createBlock)((0,l.unref)(h.Z),{key:e.id,data:e,onDelete:t=>q(e.id),onEdit:t=>Q(e.id),onClick:t=>ie(e.id,t),onDeleteArtifact:t=>oe(e.id,t)},null,8,["data","onDelete","onEdit","onClick","onDeleteArtifact"])))),128))])):((0,l.openBlock)(),(0,l.createElementBlock)("div",j,[(0,l.createVNode)(fe)]))])])])])}}}),a()}catch(Z){a(Z)}}))},56789:function(e,t,n){n.a(e,(async function(e,a){try{n.d(t,{s:function(){return r}});var l=n(92714),c=e([l]);l=(c.then?(await c)():c)[0];const i=["onClick"];function r(e,t,n,a,c,o){return(0,l.openBlock)(),(0,l.createElementBlock)("ul",null,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(n.items,(t=>((0,l.openBlock)(),(0,l.createElementBlock)("li",{key:t.index,class:(0,l.normalizeClass)({active:t.index===n.modelValue}),onClick:n=>e.$emit("update:modelValue",t.index)},(0,l.toDisplayString)(t.title),11,i)))),128))])}a()}catch(o){a(o)}}))},58912:function(e,t,n){n.a(e,(async function(e,a){try{var l=n(81705),c=n(93775),o=(n(79369),n(83744)),i=e([l]);l=(i.then?(await i)():i)[0];const r=(0,o.Z)(c.Z,[["render",l.s],["__scopeId","data-v-ce1acaf2"]]);t["Z"]=r,a()}catch(r){a(r)}}))},1910:function(e,t,n){n.a(e,(async function(e,a){try{var l=n(70978),c=(n(57261),n(83744)),o=e([l]);l=(o.then?(await o)():o)[0];const i=(0,c.Z)(l.Z,[["__scopeId","data-v-3b630bd6"]]);t["Z"]=i,a()}catch(i){a(i)}}))},8505:function(e,t,n){n.a(e,(async function(e,a){try{var l=n(36506),c=(n(52162),n(83744)),o=e([l]);l=(o.then?(await o)():o)[0];const i=(0,c.Z)(l.Z,[["__scopeId","data-v-69db9ed4"]]);t["Z"]=i,a()}catch(i){a(i)}}))},79369:function(){},57261:function(){},52162:function(){},70978:function(e,t,n){n.a(e,(async function(e,a){try{n.d(t,{Z:function(){return l.Z}});var l=n(8911),c=e([l]);l=(c.then?(await c)():c)[0],a()}catch(o){a(o)}}))},36506:function(e,t,n){n.a(e,(async function(e,a){try{n.d(t,{Z:function(){return l.Z}});var l=n(42459),c=e([l]);l=(c.then?(await c)():c)[0],a()}catch(o){a(o)}}))},93775:function(e,t,n){n.d(t,{Z:function(){return a}});var a={name:"MyList",props:["modelValue","items"],emits:["update:modelValue"]}},81705:function(e,t,n){n.a(e,(async function(e,a){try{n.d(t,{s:function(){return l.s}});var l=n(56789),c=e([l]);l=(c.then?(await c)():c)[0],a()}catch(o){a(o)}}))}}]);